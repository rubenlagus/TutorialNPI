\hypertarget{classnpi_1_1practicaandroid_1_1tutorialnpi_1_1_multitouch}{\section{npi.\-practicaandroid.\-tutorialnpi.\-Multitouch Class Reference}
\label{classnpi_1_1practicaandroid_1_1tutorialnpi_1_1_multitouch}\index{npi.\-practicaandroid.\-tutorialnpi.\-Multitouch@{npi.\-practicaandroid.\-tutorialnpi.\-Multitouch}}
}


This class (extended from Activity) implements a Touch listener above the view in order to determine when the screen is touched and how many finger are there on it.  


Inheritance diagram for npi.\-practicaandroid.\-tutorialnpi.\-Multitouch\-:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classnpi_1_1practicaandroid_1_1tutorialnpi_1_1_multitouch}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{Indent}{\bf on\-Create}\par
{\em Method called when creating the view

\begin{DoxyNote}{Note}
This method initialises the view and get a reference to the textview that should be modified. It also set a ontouchlistener on the view itself.
\end{DoxyNote}
\begin{DoxySeeAlso}{See Also}
android.\-app.\-Activity\-::on\-Create(android.\-os.\-Bundle) 
\end{DoxySeeAlso}
}\begin{DoxyCompactItemize}
\item 
void \hyperlink{classnpi_1_1practicaandroid_1_1tutorialnpi_1_1_multitouch_a27ce5119eae058afd6b3fbe5c3fb3d8e}{on\-Create} (Bundle saved\-Instance\-State)
\end{DoxyCompactItemize}
\end{Indent}
\begin{Indent}{\bf on\-Touch}\par
{\em Called each time the screen is touched or untouched (event on the screen) It find the id of the new finger (here pointer) and compute it position. It also determine if the event was put a finger on the screen or take it away from it. Finally it calls to update\-Text\-View to show any changes

\begin{DoxyNote}{Note}
This method is also called when moving a finger above the screen 
\end{DoxyNote}
\begin{DoxySeeAlso}{See Also}
android.\-view.\-View.\-On\-Touch\-Listener\-::on\-Touch(android.\-view.\-View, android.\-view.\-Motion\-Event) 
\end{DoxySeeAlso}
}\begin{DoxyCompactItemize}
\item 
boolean \hyperlink{classnpi_1_1practicaandroid_1_1tutorialnpi_1_1_multitouch_a39fb9d45d71e28ce7766262c99f37cdf}{on\-Touch} (View v, Motion\-Event event)
\end{DoxyCompactItemize}
\end{Indent}
\subsection*{Private Member Functions}
\begin{Indent}{\bf update\-Text\-View}\par
{\em Update the number show on the display It count how many finger are touching the screen at a moment and update the textview it. }\begin{DoxyCompactItemize}
\item 
void \hyperlink{classnpi_1_1practicaandroid_1_1tutorialnpi_1_1_multitouch_a7ebbe3ea40a1d689487c47689982d280}{update\-Text\-View} ()
\end{DoxyCompactItemize}
\end{Indent}


\subsection{Detailed Description}
This class (extended from Activity) implements a Touch listener above the view in order to determine when the screen is touched and how many finger are there on it. 

\begin{DoxyAuthor}{Author}
Ruben Bermudez 

Santiago Tapia 

Isaac Morely
\end{DoxyAuthor}
\begin{DoxyNote}{Note}
Even this application support up to 10 fingers, this number depend on the device. Moreover, one finger that touch on 2 different moment the screen can receive a diferent I\-D each time. 
\end{DoxyNote}
\begin{DoxySeeAlso}{See Also}
android.\-app.\-Activity 

android.\-view.\-View.\-On\-Touch\-Listener 
\end{DoxySeeAlso}


Definition at line 43 of file Multitouch.\-java.



\subsection{Member Function Documentation}
\hypertarget{classnpi_1_1practicaandroid_1_1tutorialnpi_1_1_multitouch_a27ce5119eae058afd6b3fbe5c3fb3d8e}{\index{npi\-::practicaandroid\-::tutorialnpi\-::\-Multitouch@{npi\-::practicaandroid\-::tutorialnpi\-::\-Multitouch}!on\-Create@{on\-Create}}
\index{on\-Create@{on\-Create}!npi::practicaandroid::tutorialnpi::Multitouch@{npi\-::practicaandroid\-::tutorialnpi\-::\-Multitouch}}
\subsubsection[{on\-Create}]{\setlength{\rightskip}{0pt plus 5cm}void npi.\-practicaandroid.\-tutorialnpi.\-Multitouch.\-on\-Create (
\begin{DoxyParamCaption}
\item[{Bundle}]{saved\-Instance\-State}
\end{DoxyParamCaption}
)}}\label{classnpi_1_1practicaandroid_1_1tutorialnpi_1_1_multitouch_a27ce5119eae058afd6b3fbe5c3fb3d8e}


Definition at line 77 of file Multitouch.\-java.


\begin{DoxyCode}
                                                   \{
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity\_multitouch);
        textView = \textcolor{keyword}{new} TextView(\textcolor{keyword}{this}); 
        textView = (TextView) findViewById(R.id.dedostext);
        View v= (View) findViewById(R.id.Multitouchact);
        v.setOnTouchListener(\textcolor{keyword}{this});
    \}
\end{DoxyCode}
\hypertarget{classnpi_1_1practicaandroid_1_1tutorialnpi_1_1_multitouch_a39fb9d45d71e28ce7766262c99f37cdf}{\index{npi\-::practicaandroid\-::tutorialnpi\-::\-Multitouch@{npi\-::practicaandroid\-::tutorialnpi\-::\-Multitouch}!on\-Touch@{on\-Touch}}
\index{on\-Touch@{on\-Touch}!npi::practicaandroid::tutorialnpi::Multitouch@{npi\-::practicaandroid\-::tutorialnpi\-::\-Multitouch}}
\subsubsection[{on\-Touch}]{\setlength{\rightskip}{0pt plus 5cm}boolean npi.\-practicaandroid.\-tutorialnpi.\-Multitouch.\-on\-Touch (
\begin{DoxyParamCaption}
\item[{View}]{v, }
\item[{Motion\-Event}]{event}
\end{DoxyParamCaption}
)}}\label{classnpi_1_1practicaandroid_1_1tutorialnpi_1_1_multitouch_a39fb9d45d71e28ce7766262c99f37cdf}


Definition at line 96 of file Multitouch.\-java.



References npi.\-practicaandroid.\-tutorialnpi.\-Multitouch.\-update\-Text\-View().


\begin{DoxyCode}
                                                      \{
        \textcolor{keywordtype}{int} action = \textcolor{keyword}{event}.getAction() & MotionEvent.ACTION\_MASK;
        \textcolor{keywordtype}{int} pointerIndex = (\textcolor{keyword}{event}.getAction() & MotionEvent.
      ACTION\_POINTER\_INDEX\_MASK) >> MotionEvent.ACTION\_POINTER\_INDEX\_SHIFT;
        \textcolor{keywordtype}{int} pointerId = event.getPointerId(pointerIndex);
        
        \textcolor{keywordflow}{switch}(action)\{
        \textcolor{keywordflow}{case} MotionEvent.ACTION\_DOWN:
        \textcolor{keywordflow}{case} MotionEvent.ACTION\_POINTER\_DOWN:
            tocado[pointerId] = \textcolor{keyword}{true};
            x[pointerId] = (int)event.getX(pointerIndex);
            y[pointerId] = (int)event.getY(pointerIndex);
            \textcolor{keywordflow}{break};
        \textcolor{keywordflow}{case} MotionEvent.ACTION\_UP:
        \textcolor{keywordflow}{case} MotionEvent.ACTION\_POINTER\_UP:
        \textcolor{keywordflow}{case} MotionEvent.ACTION\_CANCEL:
            tocado[pointerId] = \textcolor{keyword}{false};
            x[pointerId] = (int)event.getX(pointerIndex);
            y[pointerId] = (int)event.getY(pointerIndex);
            \textcolor{keywordflow}{break};
        \textcolor{keywordflow}{case} MotionEvent.ACTION\_MOVE:
            \textcolor{keywordtype}{int} pointerCount = \textcolor{keyword}{event}.getPointerCount();
            \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i<pointerCount;i++)\{
                pointerIndex = i;
                pointerId = \textcolor{keyword}{event}.getPointerId(pointerIndex);
                x[pointerId] = (int)event.getX(pointerIndex);
                y[pointerId] = (int)event.getY(pointerIndex);
            \}
            \textcolor{keywordflow}{break};
        \}

        \hyperlink{classnpi_1_1practicaandroid_1_1tutorialnpi_1_1_multitouch_a7ebbe3ea40a1d689487c47689982d280}{updateTextView}();
        
        \textcolor{keywordflow}{return} \textcolor{keyword}{true};
    \}
\end{DoxyCode}
\hypertarget{classnpi_1_1practicaandroid_1_1tutorialnpi_1_1_multitouch_a7ebbe3ea40a1d689487c47689982d280}{\index{npi\-::practicaandroid\-::tutorialnpi\-::\-Multitouch@{npi\-::practicaandroid\-::tutorialnpi\-::\-Multitouch}!update\-Text\-View@{update\-Text\-View}}
\index{update\-Text\-View@{update\-Text\-View}!npi::practicaandroid::tutorialnpi::Multitouch@{npi\-::practicaandroid\-::tutorialnpi\-::\-Multitouch}}
\subsubsection[{update\-Text\-View}]{\setlength{\rightskip}{0pt plus 5cm}void npi.\-practicaandroid.\-tutorialnpi.\-Multitouch.\-update\-Text\-View (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}}\label{classnpi_1_1practicaandroid_1_1tutorialnpi_1_1_multitouch_a7ebbe3ea40a1d689487c47689982d280}


Definition at line 56 of file Multitouch.\-java.



Referenced by npi.\-practicaandroid.\-tutorialnpi.\-Multitouch.\-on\-Touch().


\begin{DoxyCode}
                                 \{
        
        \textcolor{keywordtype}{int} number = 0;
        builder.setLength(0);
        \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0;i<10;i++)\{
            \textcolor{keywordflow}{if} (tocado[i])
                number++;
        \}
        builder.append(number);
        textView.setText(builder.toString());
    \}
\end{DoxyCode}


The documentation for this class was generated from the following file\-:\begin{DoxyCompactItemize}
\item 
src/npi/practicaandroid/tutorialnpi/\hyperlink{_multitouch_8java}{Multitouch.\-java}\end{DoxyCompactItemize}
